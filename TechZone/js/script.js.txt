// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –≤ –∫–æ—à–∏–∫
function addToCart(productName, price) {
    alert(`‚úÖ –¢–æ–≤–∞—Ä "${productName}" –¥–æ–¥–∞–Ω–æ –≤ –∫–æ—à–∏–∫!\nüí∞ –¶—ñ–Ω–∞: ${price} ‚Ç¥`);
    
    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –∫–æ—à–∏–∫–∞ (—è–∫—â–æ –≤—ñ–Ω —î –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ)
    updateCartCounter();
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –º–∏—Ç—Ç—î–≤–æ—ó –ø–æ–∫—É–ø–∫–∏
function buyNow(productName, price) {
    if (confirm(`–í–∏ –¥—ñ–π—Å–Ω–æ —Ö–æ—á–µ—Ç–µ –∫—É–ø–∏—Ç–∏ "${productName}" –∑–∞ ${price} ‚Ç¥?`)) {
        alert(`üéâ –í—ñ—Ç–∞—î–º–æ –∑ –ø–æ–∫—É–ø–∫–æ—é "${productName}"!\nüí∞ –°—É–º–∞: ${price} ‚Ç¥\nüì¶ –¢–æ–≤–∞—Ä –±—É–¥–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ—Ç—è–≥–æ–º 24 –≥–æ–¥–∏–Ω.`);
        
        // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (–º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ)
        // window.location.href = 'order-success.html';
    }
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ñ–æ—Ä–º–∏ –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –∑–≤'—è–∑–∫—É
function submitForm(event) {
    event.preventDefault();
    
    // –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ —Ñ–æ—Ä–º–∏
    const form = event.target;
    const name = form.querySelector('input[type="text"]').value;
    const email = form.querySelector('input[type="email"]').value;
    const message = form.querySelector('textarea').value;
    
    // –°–∏–º—É–ª—è—Ü—ñ—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º–∏
    alert(`üì® –î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, ${name}!\n–ú–∏ –∑–≤'—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏ –Ω–∞ email: ${email}\n\n–í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: "${message}"`);
    
    // –û—á–∏—â–µ–Ω–Ω—è —Ñ–æ—Ä–º–∏
    form.reset();
}

// –õ—ñ—á–∏–ª—å–Ω–∏–∫ —Ç–æ–≤–∞—Ä—ñ–≤ —É –∫–æ—à–∏–∫—É
let cartCount = 0;

function updateCartCounter() {
    cartCount++;
    
    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ (—è–∫—â–æ –µ–ª–µ–º–µ–Ω—Ç —ñ—Å–Ω—É—î)
    const cartCounter = document.getElementById('cart-counter');
    if (cartCounter) {
        cartCounter.textContent = cartCount;
        cartCounter.style.display = cartCount > 0 ? 'block' : 'none';
    }
    
    console.log(`–¢–æ–≤–∞—Ä—ñ–≤ —É –∫–æ—à–∏–∫—É: ${cartCount}`);
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π —Ç–æ–≤–∞—Ä—É
function showProductDetails(productId) {
    console.log(`–ó–∞–≤–∞–Ω—Ç–∞–∂—É—é –¥–µ—Ç–∞–ª—ñ —Ç–æ–≤–∞—Ä—É –∑ ID: ${productId}`);
    
    // –¢—É—Ç –º–æ–∂–µ –±—É—Ç–∏ –∫–æ–¥ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π —Ç–æ–≤–∞—Ä—É –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
    // –ù–∞–ø—Ä–∏–∫–ª–∞–¥, AJAX –∑–∞–ø–∏—Ç –∞–±–æ –ø–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É —Ç–æ–≤–∞—Ä—É –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
    window.location.href = `product.html?id=${productId}`;
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤ —É –∫–∞—Ç–∞–ª–æ–∑—ñ
function filterProducts(category) {
    const products = document.querySelectorAll('.product-card');
    
    products.forEach(product => {
        if (category === 'all' || product.dataset.category === category) {
            product.style.display = 'block';
        } else {
            product.style.display = 'none';
        }
    });
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø–æ—à—É–∫—É —Ç–æ–≤–∞—Ä—ñ–≤
function searchProducts() {
    const searchTerm = document.getElementById('search-input').value.toLowerCase();
    const products = document.querySelectorAll('.product-card');
    
    products.forEach(product => {
        const productName = product.querySelector('h4').textContent.toLowerCase();
        const productDescription = product.querySelector('p').textContent.toLowerCase();
        
        if (productName.includes(searchTerm) || productDescription.includes(searchTerm)) {
            product.style.display = 'block';
        } else {
            product.style.display = 'none';
        }
    });
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
function sortProducts(sortBy) {
    const productsContainer = document.querySelector('.products-grid');
    const products = Array.from(productsContainer.querySelectorAll('.product-card'));
    
    products.sort((a, b) => {
        const priceA = parseInt(a.querySelector('.price').textContent.replace(/[^\d]/g, ''));
        const priceB = parseInt(b.querySelector('.price').textContent.replace(/[^\d]/g, ''));
        const nameA = a.querySelector('h4').textContent;
        const nameB = b.querySelector('h4').textContent;
        
        switch(sortBy) {
            case 'price-low':
                return priceA - priceB;
            case 'price-high':
                return priceB - priceA;
            case 'name':
                return nameA.localeCompare(nameB);
            default:
                return 0;
        }
    });
    
    // –û—á–∏—â–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
    productsContainer.innerHTML = '';
    products.forEach(product => productsContainer.appendChild(product));
}

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
document.addEventListener('DOMContentLoaded', function() {
    console.log('–°–∞–π—Ç TechZone –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ!');
    
    // –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π –¥–ª—è –≤—Å—ñ—Ö —Ñ–æ—Ä–º –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
    const forms = document.querySelectorAll('form');
    forms.forEach(form => {
        form.addEventListener('submit', function(e) {
            if (!this.hasAttribute('onsubmit')) {
                e.preventDefault();
                alert('–§–æ—Ä–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞! (—Ü–µ –¥–µ–º–æ-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª)');
                this.reset();
            }
        });
    });
    
    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –∫–æ—à–∏–∫–∞
    const cartCounter = document.getElementById('cart-counter');
    if (cartCounter) {
        cartCounter.style.display = cartCount > 0 ? 'block' : 'none';
    }
    
    // –î–æ–¥–∞–≤–∞–Ω–Ω—è –µ—Ñ–µ–∫—Ç—ñ–≤ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
    const productCards = document.querySelectorAll('.product-card');
    productCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
});

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å
function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.textContent = message;
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 20px;
        background: ${type === 'success' ? '#27ae60' : type === 'error' ? '#e74c3c' : '#3498db'};
        color: white;
        border-radius: 5px;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    `;
    
    document.body.appendChild(notification);
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ email
function validateEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ü—ñ–Ω–∏
function formatPrice(price) {
    return new Intl.NumberFormat('uk-UA', {
        style: 'currency',
        currency: 'UAH'
    }).format(price);
}